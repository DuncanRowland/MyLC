<template name="vote">
  <div class="container">
    <header>
      {{> loginButtons}}
      <h1>Vote</h1><div style="text-align:right"><a href="/">Debug</a></div>
      {{#if currentUser}}
        {{>navigator}}
      {{/if}}
    </header>
    {{#if currentUser}}
    <div class="sortable-items-target" id="ranked"></div>
      {{>instructions}}
      {{>selectItems}}
      {{>addCommentAndSubmit}}
    {{/if}}
  </div>
</template>

<template name="navigator">
  <table class="nav-block">
    <tr>
      <td class="nav-button-style-left">
        {{#if currentPageHasBack}}<button class="button-style back-click">Back</button>{{/if}}
      </td>
      <td class="nav-button-style-middle">
        {{#if currentPageHasSubmit}}<button class="button-style submit-click">Submit</button>{{/if}}
      </td>
      <td class="nav-button-style-right">
        {{#if currentPageHasNext}}<button class="button-style next-click">Next</button>{{/if}}
      </td>
    </tr>
  </table>
</template>

<template name="instructions">
  <div hidden={{hidePage}}>
    <b>Text to be written</b><br>
    All instructions go here along with any logos etc...<br>
    The aim of this project is... etc...<br>
    Choose your ten favorite items from the collection... etc...<br>
    Click the items to find out more about each... etc...<br>
    <br>
    To begin, click next.<br>
  </div>
</template>

<template name="selectItems">
  <div hidden={{hidePage}}>
    <center>Please drag your selections above, up to 10, ordered favourites first.<br>
            Click an image to see its description, and next when you are finished.</center>
    <div class="sortable-items-source" id="row0">{{#each items start="0" count="10"}}{{>item}}{{/each}}</div>
    <div class="sortable-items-source" id="row1">{{#each items start="0" count="10"}}{{>item}}{{/each}}</div>
    <div class="sortable-items-source" id="row2">{{#each items start="0" count="10"}}{{>item}}{{/each}}</div>
    <div class="sortable-items-source" id="row3">{{#each items start="0" count="10"}}{{>item}}{{/each}}</div>
    <div class="sortable-items-source" id="row4">{{#each items start="0" count="10"}}{{>item}}{{/each}}</div>
    <div class="sortable-items-source" id="row5">{{#each items start="0" count="10"}}{{>item}}{{/each}}</div>
    <div class="sortable-items-source" id="row6">{{#each items start="0" count="10"}}{{>item}}{{/each}}</div>
    <div class="sortable-items-source" id="row7">{{#each items start="0" count="10"}}{{>item}}{{/each}}</div>
    <div class="sortable-items-source" id="row8">{{#each items start="0" count="10"}}{{>item}}{{/each}}</div>
    <div class="sortable-items-source" id="row9">{{#each items start="0" count="10"}}{{>item}}{{/each}}</div>
  </div>
</template>

<template name="item">
  <div class="inline" id={{_id}}>
    <a href={{image.url store='images'}} class="fancybox" title={{text}} data-info={{description}}><img src={{image.url store='images'}} class='img-fill-div'/></a>
  </div>
</template>

<template name="addCommentAndSubmit">
  <div hidden={{hidePage}}>
    <center>
      Please add any comments about your selection below and click submit.
      <textarea id="comment"></textarea>
    </center>
  </div>
</template>
